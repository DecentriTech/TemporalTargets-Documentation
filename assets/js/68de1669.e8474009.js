"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8274],{8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}},8621:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"API/Core Gameplay Logic/OrbitSpectatorPawn","title":"\ud83d\udcc4 File: OrbitSpectatorPawn.h","description":"Declares a pawn that smoothly orbits the killer after player death.","source":"@site/docs/API/Core Gameplay Logic/OrbitSpectatorPawn.md","sourceDirName":"API/Core Gameplay Logic","slug":"/API/_orbit_spectator_pawn_8h","permalink":"/TemporalTargets-Documentation/docs/API/_orbit_spectator_pawn_8h","draft":false,"unlisted":false,"editUrl":"https://github.com/DecentriTech/TemporalTargets-Documentation/tree/main/website/docs/API/Core Gameplay Logic/OrbitSpectatorPawn.md","tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcc4 File: OrbitSpectatorPawn.h","slug":"/API/_orbit_spectator_pawn_8h"},"sidebar":"tutorialSidebar","previous":{"title":"Core Gameplay Logic","permalink":"/TemporalTargets-Documentation/docs/API/Core-Gameplay-Logic"},"next":{"title":"\ud83d\udcc4 File: TACharacter.h","permalink":"/TemporalTargets-Documentation/docs/API/_t_a_character_8h"}}');var i=t(4848),a=t(8453);const s={title:"\ud83d\udcc4 File: OrbitSpectatorPawn.h",slug:"/API/_orbit_spectator_pawn_8h"},o="\ud83d\udcc4 File: OrbitSpectatorPawn.h",c={},l=[];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components},{Details:t,ExpandableCodeBlock:r}=n;return t||h("Details",!0),r||h("ExpandableCodeBlock",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsxs)(n.h1,{id:"-file-orbitspectatorpawnh",children:["\ud83d\udcc4 File: ",(0,i.jsx)(n.code,{children:"OrbitSpectatorPawn.h"})]})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Declares a pawn that smoothly orbits the killer after player death."}),"\n"]}),"\n",(0,i.jsxs)(t,{open:!0,children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)("summary",{children:"\ud83d\udcdd Detailed Description"}),"\r\nThis file defines the ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn",children:"AOrbitSpectatorPawn"})," class, which is responsible for:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Transitioning the camera from the death location to an orbiting position around the killer."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Allowing free-look mode using right-click input."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Managing SpringArm and CameraComponent setup for smooth third-person orbiting."}),"\n"]}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"#group___game___logic",children:"Core Gameplay Logic"})})]}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsxs)(n.p,{children:["\ud83d\udcd8 Class ",(0,i.jsx)(n.code,{children:"AOrbitSpectatorPawn"}),"\r\n",(0,i.jsx)("span",{class:"brief-description-pill",children:"Pawn that smoothly orbits around the actor that killed the player."})]})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["On spawn, this pawn is initialized via ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn_1a042f83ca27a30c6510b1905153132a6b",children:"InitializeSpectator()"})," with the ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn_1a24c5e1186db9f8e8e7bf60993ea45405",children:"TargetActor"})," (the killer) and ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn_1a553f1235c13d69a4dcdd5309e76c9b01",children:"StartLocation"})," (death spot). It then blends over ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn_1a693da49425407f0e913d7e094cbaddba",children:"BlendTime"})," seconds from the death spot toward the killer's location plus ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn_1ab3ef177c965bc7ce3b40b92805eb2ab3",children:"TargetOffset"}),". While blending finishes, it will automatically look at the killer unless free-look is engaged via ",(0,i.jsx)(n.a,{href:"#class_a_orbit_spectator_pawn_1a6aca1b24b25674e136932f6f6e0893c7",children:"/OnRightClickReleased"}),"()."]}),"\n"]}),(0,i.jsxs)(t,{open:!0,children:[(0,i.jsx)("summary",{children:"\ud83e\uddcd Members"}),(0,i.jsxs)(t,{open:!0,children:[(0,i.jsx)("summary",{children:"\u2699\ufe0f Functions"}),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsxs)(n.p,{children:["\ud83e\udde0 ",(0,i.jsx)("code",{children:"AOrbitSpectatorPawn"}),"\r\n",(0,i.jsx)("span",{class:"member-badge kind-function",children:"function"}),"\r\n",(0,i.jsx)("span",{class:"member-badge section-public-func",children:"Public"}),"\r\n",(0,i.jsx)("span",{class:"brief-description-pill",children:"Constructor."})]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Parameters:"})," None"]}),(0,i.jsx)("hr",{}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udcc4 Source:"})," ",(0,i.jsx)("code",{children:"Source/TimeAssassin/OrbitSpectatorPawn.cpp"})," (lines 10\u201322)"]}),(0,i.jsx)(r,{code:'AOrbitSpectatorPawn::AOrbitSpectatorPawn()\n{\n// Set this pawn to call Tick() every frame.  You can turn this off to improve performance if you don\'t need it.\nPrimaryActorTick.bCanEverTick = true;\n\n  SpringArm = CreateDefaultSubobject<USpringArmComponent>("SpringArm");\n  SpringArm->SetupAttachment(RootComponent);\n  SpringArm->TargetArmLength = 0.f;\n  SpringArm->bEnableCameraLag = false;\n\n  Camera = CreateDefaultSubobject<UCameraComponent>("Camera");\n  Camera->SetupAttachment(SpringArm);\n}',language:"cpp",previewLines:15})]}),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsxs)(n.p,{children:["\ud83e\udde0 ",(0,i.jsx)("code",{children:"InitializeSpectator"}),"\r\n",(0,i.jsx)("span",{class:"member-badge kind-function",children:"function"}),"\r\n",(0,i.jsx)("span",{class:"member-badge section-public-func",children:"Public"}),"\r\n",(0,i.jsx)("span",{class:"brief-description-pill",children:"Sets up the pawn after spawn."})]})}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Parameters:"})}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"AActor * KillerActor"})," \u2013 Actor that killed the player (stored in )."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"FVector DeathLocation"})," \u2013 World position where the player died (stored in )."]})]}),(0,i.jsx)("hr",{}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udcc4 Source:"})," ",(0,i.jsx)("code",{children:"Source/TimeAssassin/OrbitSpectatorPawn.cpp"})," (lines 24\u201330)"]}),(0,i.jsx)(r,{code:"void AOrbitSpectatorPawn::InitializeSpectator(AActor* KillerActor, FVector DeathLocation)\n{\n  TargetActor = KillerActor;\n  StartLocation = DeathLocation;\n  ElapsedTime = 0.f;\n  SetActorLocation(StartLocation);\n}",language:"cpp",previewLines:15})]}),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsxs)(n.p,{children:["\ud83e\udde0 ",(0,i.jsx)("code",{children:"Tick"}),"\r\n",(0,i.jsx)("span",{class:"member-badge kind-function",children:"function"}),"\r\n",(0,i.jsx)("span",{class:"member-badge section-protected-func",children:"Protected"}),"\r\n",(0,i.jsx)("span",{class:"brief-description-pill",children:"Called each frame to update blend and look-at logic."})]})}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Parameters:"})}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"float DeltaSeconds"})," \u2013 Time (in seconds) since the last  call."]})}),(0,i.jsx)("hr",{}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udcc4 Source:"})," ",(0,i.jsx)("code",{children:"Source/TimeAssassin/OrbitSpectatorPawn.cpp"})," (lines 33\u201355)"]}),(0,i.jsx)(r,{code:"void AOrbitSpectatorPawn::Tick(float DeltaTime)\n{\nSuper::Tick(DeltaTime);\n  if (!TargetActor) return;\n\n  // 1) Blend from death spot -> killer + offset\n  if (ElapsedTime < BlendTime)\n  {\n      ElapsedTime += DeltaTime;\n      float Alpha = FMath::Clamp(ElapsedTime / BlendTime, 0.f, 1.f);\n      FVector Desired = TargetActor->GetActorLocation() + TargetOffset;\n      SetActorLocation(FMath::Lerp(StartLocation, Desired, Alpha));\n  }\n\n  // 2) Auto-look at killer unless free-looking\n  if (!bRightClickDown)\n  {\n      FVector Dir = TargetActor->GetActorLocation() - GetActorLocation();\n      if (!Dir.IsNearlyZero())\n          SetActorRotation(Dir.Rotation());\n  }\n\n}",language:"cpp",previewLines:15})]}),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsxs)(n.p,{children:["\ud83e\udde0 ",(0,i.jsx)("code",{children:"SetupPlayerInputComponent"}),"\r\n",(0,i.jsx)("span",{class:"member-badge kind-function",children:"function"}),"\r\n",(0,i.jsx)("span",{class:"member-badge section-protected-func",children:"Protected"}),"\r\n",(0,i.jsx)("span",{class:"brief-description-pill",children:"Binds input for free-look controls."})]})}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Parameters:"})}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"UInputComponent * PlayerInputComponent"})," \u2013 Input component to populate with axis/actions."]})}),(0,i.jsx)("hr",{}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udcc4 Source:"})," ",(0,i.jsx)("code",{children:"Source/TimeAssassin/OrbitSpectatorPawn.cpp"})," (lines 57\u201365)"]}),(0,i.jsx)(r,{code:'void AOrbitSpectatorPawn::SetupPlayerInputComponent(UInputComponent* IC)\n{\n  Super::SetupPlayerInputComponent(IC);\n\n  IC->BindAction("RightClick", IE_Pressed, this, &AOrbitSpectatorPawn::OnRightClickPressed);\n  IC->BindAction("RightClick", IE_Released, this, &AOrbitSpectatorPawn::OnRightClickReleased);\n  IC->BindAxis("Turn", this, &AOrbitSpectatorPawn::Turn);\n  IC->BindAxis("LookUp", this, &AOrbitSpectatorPawn::LookUp);\n}',language:"cpp",previewLines:15})]})]}),(0,i.jsx)(t,{open:!0,children:(0,i.jsx)("summary",{children:"\ud83d\udce6 Variables"})})]})]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);